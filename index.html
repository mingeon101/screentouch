<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Screentouch ì‚¬ìš©ì„¤ëª…ì„œ</title>

    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", sans-serif;
            display: flex;
            background: linear-gradient(135deg, #eef2f3, #dfe9f3);
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #1e272e;
            color: #fff;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            padding: 30px;
            box-sizing: border-box;
            box-shadow: 5px 0 15px rgba(0,0,0,0.25);
        }

        .sidebar h2 {
            font-size: 24px;
            margin-bottom: 28px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            margin: 18px 0;
        }

        .sidebar ul li a {
            color: #dfe6e9;
            text-decoration: none;
            font-size: 17px;
            transition: 0.25s;
        }

        .sidebar ul li a:hover {
            color: #74b9ff;
        }

        /* Content */
        .content {
            margin-left: 260px;
            padding: 50px;
            width: calc(100% - 260px);
            box-sizing: border-box;
        }

        section {
            background: #ffffff;
            margin-bottom: 50px;
            padding: 40px;
            border-radius: 20px;
            box-shadow:
                5px 5px 15px rgba(0,0,0,0.08),
                -5px -5px 15px rgba(255,255,255,0.9);
        }

        h1 { font-size: 30px; margin-top: 0; }
        h2 { font-size: 23px; margin-top: 30px; }

        input, textarea, button {
            font-family: inherit;
        }

        input, textarea {
            width: 100%;
            padding: 14px;
            margin-top: 12px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            background: #f5f6fa;
            box-shadow: inset 3px 3px 8px rgba(0,0,0,0.1),
                        inset -3px -3px 8px rgba(255,255,255,0.9);
        }

        textarea {
            height: 130px;
            resize: none;
        }

        button {
            margin-top: 18px;
            padding: 14px 24px;
            border-radius: 12px;
            border: none;
            background: #0984e3;
            color: white;
            font-size: 17px;
            cursor: pointer;
            transition: 0.25s;
        }

        button:hover { background: #74b9ff; }

        .hidden { display: none; }

        .answer-box {
            background: #dfe6e9;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

    </style>
</head>


<body>

<!-- Sidebar -->
<div class="sidebar">
    <h2>Screentouch</h2>
    <ul>
        <li><a href="#install">ì„¤ì¹˜ ë°©ë²•</a></li>
        <li><a href="#usage">ì‚¬ìš©ì„¤ëª…ì„œ</a></li>
        <li><a href="#question">ì§ˆë¬¸í•˜ê¸°</a></li>
    </ul>
</div>

<!-- Content -->
<div class="content">

    <!-- Install -->
    <section id="install">
        <h1>ì„¤ì¹˜ ë°©ë²•</h1>

        <h2>1. ë‹¤ìš´ë¡œë“œ</h2>
        <p>ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ Screentouch ì„¤ì¹˜ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.</p>

        <a href="https://drive.google.com/drive/folders/1E0tMb4kKXiqLvv5tQkOkEGGem9Q-TUxX?usp=drive_link"
           target="_blank"
           style="
                display:inline-block;
                padding:14px 24px;
                background:#0984e3;
                color:white;
                border-radius:12px;
                font-size:18px;
                text-decoration:none;
                box-shadow:3px 3px 10px rgba(0,0,0,0.15);
                transition:0.25s;
           "
           onmouseover="this.style.background='#74b9ff'"
           onmouseout="this.style.background='#0984e3'">
            ğŸ“¥ Screentouch ì„¤ì¹˜í•˜ê¸°
        </a>

        <h2 style="margin-top:35px;">2. ì„¤ì¹˜ ì§„í–‰</h2>
        <p>ë‹¤ìš´ë¡œë“œí•œ Setup.exe íŒŒì¼ì„ ì‹¤í–‰í•˜ì—¬ ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.</p>

        <h2>3. ì„¤ì¹˜ ì™„ë£Œ</h2>
        <p>ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ë°”íƒ•í™”ë©´ ë˜ëŠ” ì‹œì‘ ë©”ë‰´ì—ì„œ Screentouchë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.</p>
    </section>

    <!-- Usage -->
    <section id="usage">
        <h1>ì‚¬ìš© ì„¤ëª…ì„œ</h1>

        <h2>í„°ì¹˜ ì œìŠ¤ì²˜</h2>
        <ul>
            <li>íƒ­ â†’ ì¢Œí´ë¦­</li>
            <li>ë“œë˜ê·¸ â†’ ìŠ¤í¬ë¡¤/ì´ë™</li>
            <li>ë¡±í”„ë ˆìŠ¤ â†’ ê¸¸ê²Œ ëˆ„ë¥´ê¸°</li>
        </ul>

        <h2>ì„¤ì • ê¸°ëŠ¥</h2>
        <ul>
            <li>ê°ë„ ì¡°ì ˆ</li>
            <li>ë¡±í”„ë ˆìŠ¤ ì‹œê°„ ì¡°ì ˆ</li>
            <li>ìë™ ì‹¤í–‰ ì„¤ì •</li>
        </ul>
    </section>

    <!-- Question System -->
    <section id="question">
        <h1>ì§ˆë¬¸í•˜ê¸°</h1>

        <h2>1. ì§ˆë¬¸ ì œì¶œ</h2>
        <input id="qid" type="text" placeholder="ì•„ì´ë”” ì…ë ¥">
        <input id="qpw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
        <textarea id="qtext" placeholder="ì§ˆë¬¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        <button onclick="submitQuestion()">ì§ˆë¬¸ ì œì¶œ</button>

        <hr style="margin:40px 0;">

        <h2>2. ë‚´ ì§ˆë¬¸ ì¡°íšŒ / ìˆ˜ì • / ì‚­ì œ</h2>
        <input id="view_id" type="text" placeholder="ì•„ì´ë”” ì…ë ¥">
        <input id="view_pw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
        <button onclick="loadMyQuestion()">ë‚´ ì§ˆë¬¸ ë³´ê¸°</button>

        <div id="myQuestionBox" class="hidden">
            <h3>ë‚´ ì§ˆë¬¸</h3>
            <textarea id="myQuestionText"></textarea>

            <h3>ê´€ë¦¬ì ë‹µë³€</h3>
            <div class="answer-box">
                <p id="myAnswer"></p>
            </div>

            <button onclick="updateMyQuestion()">ì§ˆë¬¸ ìˆ˜ì •</button>
            <button onclick="deleteMyQuestion()" style="background:#d63031;">ì§ˆë¬¸ ì‚­ì œ</button>
        </div>

    </section>

</div>


<!-- Firebase Script -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getDatabase, ref, set, get, update, remove } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyD5LF-_E3X4Ix4JDiBJFIqzoa0aKk6qoQ4",
        authDomain: "screentouch-d9ad3.firebaseapp.com",
        databaseURL: "https://screentouch-d9ad3-default-rtdb.firebaseio.com/",
        projectId: "screentouch-d9ad3",
        storageBucket: "screentouch-d9ad3.firebasestorage.app",
        messagingSenderId: "576628623458",
        appId: "1:576628623458:web:c54a8e03de793a866ba93b",
        measurementId: "G-5TS2P0EQVE"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);


    /* ===========================
        1. ì§ˆë¬¸ ì œì¶œ
    ============================ */
    window.submitQuestion = function () {
        const id = qid.value.trim();
        const pw = qpw.value.trim();
        const text = qtext.value.trim();

        if (!id || !pw || !text) {
            alert("ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”.");
            return;
        }

        set(ref(db, "questions/" + id), {
            password: pw,
            question: text,
            answer: "ë‹µë³€ ëŒ€ê¸°ì¤‘"
        });

        alert("ì§ˆë¬¸ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
        qtext.value = "";
    };


    /* ===========================
        2. ë‚´ ì§ˆë¬¸ ë¶ˆëŸ¬ì˜¤ê¸°
    ============================ */
    window.loadMyQuestion = async function () {
        const id = view_id.value.trim();
        const pw = view_pw.value.trim();

        if (!id || !pw) {
            alert("IDì™€ PWë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            return;
        }

        const snap = await get(ref(db, "questions/" + id));

        if (!snap.exists()) {
            alert("í•´ë‹¹ IDë¡œ ë“±ë¡ëœ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.");
            return;
        }

        const data = snap.val();

        if (data.password !== pw) {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            return;
        }

        // Load data
        myQuestionBox.classList.remove("hidden");
        myQuestionText.value = data.question;
        myAnswer.innerText = data.answer;
    };


    /* ===========================
        3. ì§ˆë¬¸ ìˆ˜ì •
    ============================ */
    window.updateMyQuestion = async function () {
        const id = view_id.value.trim();
        const pw = view_pw.value.trim();
        const newQ = myQuestionText.value.trim();

        if (!newQ) {
            alert("ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”.");
            return;
        }

        const snap = await get(ref(db, "questions/" + id));
        if (!snap.exists()) return;

        if (snap.val().password !== pw) {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            return;
        }

        update(ref(db, "questions/" + id), { question: newQ });

        alert("ì§ˆë¬¸ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
    };


    /* ===========================
        4. ì§ˆë¬¸ ì‚­ì œ
    ============================ */
    window.deleteMyQuestion = async function () {
        const id = view_id.value.trim();
        const pw = view_pw.value.trim();

        const snap = await get(ref(db, "questions/" + id));
        if (!snap.exists()) return;

        if (snap.val().password !== pw) {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            return;
        }

        remove(ref(db, "questions/" + id));
        alert("ì§ˆë¬¸ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
        myQuestionBox.classList.add("hidden");
    };

</script>

</body>
</html>
